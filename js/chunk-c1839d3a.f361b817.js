(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1839d3a"],{1799:function(e,t,o){"use strict";var c=o("7a23"),a={"aria-label":"Page navigation example",class:"mt-4"},n={class:"pagination"},l={class:"page-item"},r=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[r],d=["onClick"],s={class:"page-link",href:"#"},u={class:"page-item"},b=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),p=[b];function m(e,t,o,r,b,m){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",a,[Object(c["createElementVNode"])("ul",n,[Object(c["createElementVNode"])("li",l,[Object(c["createElementVNode"])("a",{onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return m.openPage(o.pages.current_page-1)}),["prevent"])),class:"page-link",href:"#","aria-label":"Previous"},i)]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.pages.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:e,onClick:Object(c["withModifiers"])((function(t){return m.openPage(e)}),["prevent"]),class:"page-item"},[Object(c["createElementVNode"])("a",s,Object(c["toDisplayString"])(e),1)],8,d)})),128)),Object(c["createElementVNode"])("li",u,[Object(c["createElementVNode"])("a",{onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return m.openPage(o.pages.current_page+1)}),["prevent"])),class:"page-link",href:"#","aria-label":"Next"},p)])])])}var g={name:"Pages",props:["pages"],emits:["to-page"],data:function(){return{pagesData:{}}},methods:{openPage:function(e){console.log("page",e),this.$emit("to-page",e)}}},O=o("6b0d"),j=o.n(O);const h=j()(g,[["render",m]]);t["a"]=h},e01a:function(e,t,o){"use strict";var c=o("23e7"),a=o("83ab"),n=o("da84"),l=o("e330"),r=o("1a2d"),i=o("1626"),d=o("3a9b"),s=o("577e"),u=o("9bf2").f,b=o("e893"),p=n.Symbol,m=p&&p.prototype;if(a&&i(p)&&(!("description"in m)||void 0!==p().description)){var g={},O=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=d(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};b(O,p),O.prototype=m,m.constructor=O;var j="Symbol(test)"==String(p("test")),h=l(m.toString),f=l(m.valueOf),v=/^Symbol\((.*)\)[^)]+$/,E=l("".replace),N=l("".slice);u(m,"description",{configurable:!0,get:function(){var e=f(this),t=h(e);if(r(g,e))return"";var o=j?N(t,7,-1):E(t,v,"$1");return""===o?void 0:o}}),c({global:!0,forced:!0},{Symbol:O})}},fd15:function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a");var c=o("7a23"),a={class:"container"},n=Object(c["createElementVNode"])("h2",null,"Products List Page",-1),l={class:"row row-cols-lg-4 row-cols-md-3 row-cols-1 g-5"},r={class:"card",style:{width:"18rem"}},i={class:"card-body"},d={class:"card-title"},s={class:"card-text"},u={class:"btn-group"},b=["targetId","onClick"],p=["onClick"];function m(e,t,o,m,g,O){var j=Object(c["resolveComponent"])("Pages"),h=Object(c["resolveComponent"])("ProductModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",a,[n,Object(c["createElementVNode"])("div",l,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(g.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e.id,class:"col"},[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("img",{style:Object(c["normalizeStyle"])([{backgroundImage:"url(".concat(e.imageUrl,")")},{height:"250px",backgroundSize:"cover",backgroundPosition:"center center"}])},null,4),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("h5",d,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("p",s,Object(c["toDisplayString"])(e.description),1),Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("button",{targetId:e.id,onClick:function(t){return O.openModal(e)},type:"button",class:"btn btn-primary"},"查看更多 ",8,b),Object(c["createElementVNode"])("button",{onClick:function(t){return O.addToCart(e.id)},type:"button",class:"btn btn-warning"},"加入購物車 ",8,p)])])])])})),128))]),Object(c["createVNode"])(j,{onToPage:O.getProductsPage,pages:g.pagination},null,8,["onToPage","pages"])]),Object(c["createVNode"])(h,{onSentModal:O.getModal,product:g.targetProduct},null,8,["onSentModal","product"])],64)}o("99af");var g=o("1799"),O={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},j={class:"modal-dialog modal-xl",role:"document"},h={class:"modal-content border-0"},f={class:"modal-header bg-dark text-white"},v={class:"modal-title",id:"exampleModalLabel"},E=Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),N={class:"modal-body"},V={class:"row"},k={class:"col-sm-6"},y={class:"col-sm-6"},P=Object(c["createElementVNode"])("span",{class:"badge bg-primary rounded-pill"},null,-1),w=Object(c["createElementVNode"])("p",null,"商品內容：",-1),C=Object(c["createElementVNode"])("div",{class:"h5"},"元",-1),S={class:"h6"},M={class:"h5"},B={class:"input-group col"},x={class:"form-select","aria-label":"Default select example"},D=["value"];function $(e,t,o,a,n,l){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",O,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("h5",v,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.product.title),1)]),E]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("img",{style:Object(c["normalizeStyle"])([{backgroundImage:"url(".concat(o.product.imageUrl,")")},{width:"500px",height:"400px","background-position":"center center","background-size":"cover"}]),class:"img-fluid",alt:""},null,4)]),Object(c["createElementVNode"])("div",y,[P,Object(c["createElementVNode"])("p",null,"商品描述："+Object(c["toDisplayString"])(o.product.description),1),w,C,Object(c["createElementVNode"])("del",S,"原價 "+Object(c["toDisplayString"])(o.product.origin_price)+" 元",1),Object(c["createElementVNode"])("div",M,"現在只要 "+Object(c["toDisplayString"])(o.product.price)+" 元",1),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("select",x,[(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(5,(function(e){return Object(c["createElementVNode"])("option",{key:e,value:e},Object(c["toDisplayString"])(e),9,D)})),64))]),Object(c["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(e){return l.addToCart(o.product.id,2)}),type:"button",class:"btn btn-warning"}," 加入購物車 ")])])])])])])],512)}var L=o("7c2b"),T=o.n(L),_="https://vue3-course-api.hexschool.io/v2/",z="scott",F={name:"ProductModal",props:["product"],data:function(){return{modal:"",qty:null}},methods:{sentModal:function(){this.$emit("sent-modal",this.modal)},addToCart:function(e){var t=this,o={data:{product_id:e,qty:1}};console.log(o),this.$http.post("".concat(_,"api/").concat(z,"/cart"),o).then((function(e){console.log(e),alert(e.data.message),t.modal.hide()})).catch((function(e){console.dir(e)}))}},mounted:function(){this.modal=new T.a(this.$refs.modal),this.sentModal()}},I=o("6b0d"),q=o.n(I);const U=q()(F,[["render",$]]);var J=U,A="https://vue3-course-api.hexschool.io/v2/",G="scott",H={components:{Pages:g["a"],ProductModal:J},data:function(){return{products:[],targetProduct:[],pagination:{},modal:""}},methods:{getProductsPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat(A,"api/").concat(G,"/products?page=").concat(t)).then((function(t){var o=t.data,c=o.products,a=o.pagination;e.products=c,e.pagination=a})).catch((function(e){console.error(e)}))},addToCart:function(e){var t={data:{product_id:e,qty:1}};this.$http.post("".concat(A,"api/").concat(G,"/cart"),t).then((function(e){console.log(e),alert(e.data.message)})).catch((function(e){console.dir(e)}))},getModal:function(e){this.modal=e},openModal:function(e){this.modal.show(),this.targetProduct=e},isLoading:function(){var e=this.$loading.show({canCancel:!0,onCancel:this.onCancel});setTimeout((function(){e.hide()}),500)},onCancel:function(){console.log("User cancelled the loader.")}},mounted:function(){this.isLoading(),this.getProductsPage()}};const K=q()(H,[["render",m]]);t["default"]=K}}]);
//# sourceMappingURL=chunk-c1839d3a.f361b817.js.map