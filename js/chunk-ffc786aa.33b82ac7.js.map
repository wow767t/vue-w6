{"version":3,"sources":["webpack:///./node_modules/mitt/dist/mitt.mjs","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/CartView.vue","webpack:///./src/views/CartView.vue?7c6d","webpack:///./src/components/CheckoutModal.vue","webpack:///./src/components/CheckoutModal.vue?b860"],"names":["all","n","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","this","error","class","_createElementVNode","style","scope","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onClick","$options","type","_createElementBlock","_Fragment","_renderList","$data","product","key","id","backgroundImage","imageUrl","alt","_toDisplayString","title","qty","price","final_total","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","length","_createVNode","_component_CheckoutModal","onEmitModal","url","process","path","components","CheckoutModal","data","cart","modal","orderPrice","methods","getCart","$http","then","res","console","log","carts","catch","err","deleItem","delete","alert","message","deleItemAll","dir","getModal","obj","openModal","show","isLoading","loader","$loading","canCancel","onCancel","setTimeout","hide","mounted","__exports__","render","tabindex","ref","data-bs-dismiss","aria-label","for","user","name","$event","placeholder","rules","_hoisted_9","tel","_hoisted_11","address","_hoisted_13","cols","rows","emitter","mitt","userData","email","temp","emitModal","$emit","mittTemp","Modal","$refs"],"mappings":"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","file":"js/chunk-ffc786aa.33b82ac7.js","sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div class=\"container\">\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th style=\"vertical-align: middle\" scope=\"col\"></th>\n          <th style=\"vertical-align: middle\" scope=\"col\">品名</th>\n          <th style=\"vertical-align: middle\" scope=\"col\">數量</th>\n          <th style=\"vertical-align: middle\" scope=\"col\">單價</th>\n          <th style=\"vertical-align: middle\" scope=\"col\">總計</th>\n          <th style=\"vertical-align: middle\" scope=\"col\">\n            <button @click=\"deleItemAll\" type=\"button\" class=\"btn btn-light\">del all</button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"product in cart\" :key=\"product.id\">\n          <th scope=\"row\">\n            <div>\n              <img\n                :style=\"{ backgroundImage: `url(${product.product.imageUrl})` }\"\n                style=\"\n                  height: 80px;\n                  width: 80px;\n                  background-size: cover;\n                  background-position: center center;\n                \"\n                alt=\"\"\n              />\n            </div>\n          </th>\n          <td style=\"vertical-align: middle\">{{ product.product.title }}</td>\n          <td style=\"vertical-align: middle\">{{ product.qty }}</td>\n          <td style=\"vertical-align: middle\">{{ product.product.price }}</td>\n          <td style=\"vertical-align: middle\">{{ product.final_total }}</td>\n          <td style=\"vertical-align: middle\">\n            <button @click=\"deleItem(product.id)\" type=\"button\" class=\"btn btn-light\">del</button>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot v-show=\"cart.length\">\n        <tr>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>{{ orderPrice }}</td>\n          <td>\n            <button @click=\"openModal\" type=\"button\" class=\"btn btn-outline-danger\">結帳</button>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n  <CheckoutModal @emit-modal=\"getModal\" />\n</template>\n\n<script>\nimport CheckoutModal from '@/components/CheckoutModal.vue';\n\nconst url = process.env.VUE_APP_URL;\nconst path = process.env.VUE_APP_PATH;\n\nexport default {\n  components: {\n    CheckoutModal,\n  },\n  data() {\n    return {\n      cart: [],\n      modal: '',\n      // temp for test\n      orderPrice: 0,\n    };\n  },\n  methods: {\n    getCart() {\n      // https://vue3-course-api.hexschool.io/v2/api/scott/cart\n      this.$http\n        .get(`${url}api/${path}/cart`)\n        .then((res) => {\n          console.log(res);\n          this.cart = res.data.data.carts;\n          this.orderPrice = res.data.data.final_total;\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    // dele item (id)\n    deleItem(id) {\n      console.log('del', id);\n      // https://vue3-course-api.hexschool.io/v2/api/scott/cart/-Mv8ZqixeQddTQSAcdoI\n      this.$http\n        .delete(`${url}api/${path}/cart/${id}`)\n        .then((res) => {\n          console.log(res);\n          alert(res.data.message);\n          this.getCart();\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    // dele item all\n    deleItemAll() {\n      this.$http\n        .delete(`${url}api/${path}/carts`)\n        .then((res) => {\n          console.log(res);\n          console.log(res.data.message);\n          this.getCart();\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    // get checkout modal & open modal\n    getModal(obj) {\n      this.modal = obj;\n    },\n    openModal() {\n      this.modal.show();\n    },\n    isLoading() {\n      const loader = this.$loading.show({\n        // Optional parameters\n        // container: this.fullPage ? true : this.$refs.formContainer,\n        canCancel: true,\n        onCancel: this.onCancel,\n      });\n      // simulate AJAX\n      setTimeout(() => {\n        loader.hide();\n      }, 500);\n    },\n    onCancel() {\n      console.log('User cancelled the loader.');\n    },\n  },\n  mounted() {\n    this.isLoading();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=2bf771c7\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/scottie/vue-w6/home-w7/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"modal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">訂購人資訊</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body p-4\">\n          <form>\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"form-label\">收件人姓名</label>\n              <input\n                v-model=\"userData.user.name\"\n                id=\"name\"\n                name=\"姓名\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入姓名\"\n                rules=\"required\"\n              />\n              <!-- <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage> -->\n            </div>\n\n            <div class=\"mb-3\">\n              <label for=\"tel\" class=\"form-label\">收件人電話</label>\n              <input\n                v-model=\"userData.user.tel\"\n                id=\"tel\"\n                name=\"電話\"\n                type=\"tel\"\n                class=\"form-control\"\n                placeholder=\"請輸入電話\"\n              />\n              <!-- <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage> -->\n            </div>\n\n            <div class=\"mb-3\">\n              <label for=\"address\" class=\"form-label\">收件人地址</label>\n              <input\n                v-model=\"userData.user.address\"\n                id=\"address\"\n                name=\"地址\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入地址\"\n                rules=\"required\"\n              />\n              <!-- <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage> -->\n            </div>\n\n            <div class=\"mb-4\">\n              <label for=\"message\" class=\"form-label\">留言</label>\n              <textarea\n                v-model=\"userData.message\"\n                name=\"\"\n                id=\"message\"\n                class=\"form-control\"\n                cols=\"30\"\n                rows=\"10\"\n              >\n              </textarea>\n            </div>\n            <div class=\"text-end\">\n              <button @click.prevent=\"mittTemp\" class=\"btn btn-danger\">送出訂單</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n// mitt\nimport mitt from 'mitt';\n\nconst emitter = mitt();\n\nexport default {\n  name: 'CheckoutModal',\n  data() {\n    return {\n      modal: '',\n      userData: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      // temp\n      temp: 'temp',\n    };\n  },\n  methods: {\n    emitModal() {\n      this.$emit('emit-modal', this.modal);\n    },\n    mittTemp() {\n      console.log('emit');\n      emitter.emit('mitt-temp', this.temp);\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n    this.emitModal();\n    // this.modal.show();\n    console.log(emitter);\n  },\n};\n</script>\n","import { render } from \"./CheckoutModal.vue?vue&type=template&id=121b870c\"\nimport script from \"./CheckoutModal.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/scottie/vue-w6/home-w7/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}