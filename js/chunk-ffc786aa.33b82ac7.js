(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffc786aa"],{1344:function(e,t,l){"use strict";t["a"]=function(e){return{all:e=e||new Map,on:function(t,l){var c=e.get(t);c?c.push(l):e.set(t,[l])},off:function(t,l){var c=e.get(t);c&&(l?c.splice(c.indexOf(l)>>>0,1):e.set(t,[]))},emit:function(t,l){var c=e.get(t);c&&c.slice().map((function(e){e(l)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,l)}))}}}},b0c0:function(e,t,l){var c=l("83ab"),n=l("5e77").EXISTS,a=l("e330"),o=l("9bf2").f,r=Function.prototype,d=a(r.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=a(i.exec),m="name";c&&!n&&o(r,m,{configurable:!0,get:function(){try{return s(i,d(this))[1]}catch(e){return""}}})},cc55:function(e,t,l){"use strict";l.r(t);var c=l("7a23"),n={class:"container"},a={class:"table"},o=Object(c["createElementVNode"])("th",{style:{"vertical-align":"middle"},scope:"col"},null,-1),r=Object(c["createElementVNode"])("th",{style:{"vertical-align":"middle"},scope:"col"},"品名",-1),d=Object(c["createElementVNode"])("th",{style:{"vertical-align":"middle"},scope:"col"},"數量",-1),i=Object(c["createElementVNode"])("th",{style:{"vertical-align":"middle"},scope:"col"},"單價",-1),s=Object(c["createElementVNode"])("th",{style:{"vertical-align":"middle"},scope:"col"},"總計",-1),m={style:{"vertical-align":"middle"},scope:"col"},u={scope:"row"},b={style:{"vertical-align":"middle"}},p={style:{"vertical-align":"middle"}},O={style:{"vertical-align":"middle"}},j={style:{"vertical-align":"middle"}},f={style:{"vertical-align":"middle"}},h=["onClick"],g=Object(c["createElementVNode"])("td",null,null,-1),E=Object(c["createElementVNode"])("td",null,null,-1),V=Object(c["createElementVNode"])("td",null,null,-1),N=Object(c["createElementVNode"])("td",null,null,-1);function v(e,t,l,v,y,k){var w=Object(c["resolveComponent"])("CheckoutModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("table",a,[Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[o,r,d,i,s,Object(c["createElementVNode"])("th",m,[Object(c["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return k.deleItemAll&&k.deleItemAll.apply(k,arguments)}),type:"button",class:"btn btn-light"},"del all")])])]),Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(y.cart,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("th",u,[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{style:Object(c["normalizeStyle"])([{backgroundImage:"url(".concat(e.product.imageUrl,")")},{height:"80px",width:"80px","background-size":"cover","background-position":"center center"}]),alt:""},null,4)])]),Object(c["createElementVNode"])("td",b,Object(c["toDisplayString"])(e.product.title),1),Object(c["createElementVNode"])("td",p,Object(c["toDisplayString"])(e.qty),1),Object(c["createElementVNode"])("td",O,Object(c["toDisplayString"])(e.product.price),1),Object(c["createElementVNode"])("td",j,Object(c["toDisplayString"])(e.final_total),1),Object(c["createElementVNode"])("td",f,[Object(c["createElementVNode"])("button",{onClick:function(t){return k.deleItem(e.id)},type:"button",class:"btn btn-light"},"del",8,h)])])})),128))]),Object(c["withDirectives"])(Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[g,E,V,N,Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(y.orderPrice),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{onClick:t[1]||(t[1]=function(){return k.openModal&&k.openModal.apply(k,arguments)}),type:"button",class:"btn btn-outline-danger"},"結帳")])])],512),[[c["vShow"],y.cart.length]])])]),Object(c["createVNode"])(w,{onEmitModal:k.getModal},null,8,["onEmitModal"])],64)}l("99af");var y=l("d9c7"),k="https://vue3-course-api.hexschool.io/v2/",w="scott",D={components:{CheckoutModal:y["a"]},data:function(){return{cart:[],modal:"",orderPrice:0}},methods:{getCart:function(){var e=this;this.$http.get("".concat(k,"api/").concat(w,"/cart")).then((function(t){console.log(t),e.cart=t.data.data.carts,e.orderPrice=t.data.data.final_total})).catch((function(e){console.error(e)}))},deleItem:function(e){var t=this;console.log("del",e),this.$http.delete("".concat(k,"api/").concat(w,"/cart/").concat(e)).then((function(e){console.log(e),alert(e.data.message),t.getCart()})).catch((function(e){console.error(e)}))},deleItemAll:function(){var e=this;this.$http.delete("".concat(k,"api/").concat(w,"/carts")).then((function(t){console.log(t),console.log(t.data.message),e.getCart()})).catch((function(e){console.dir(e)}))},getModal:function(e){this.modal=e},openModal:function(){this.modal.show()},isLoading:function(){var e=this.$loading.show({canCancel:!0,onCancel:this.onCancel});setTimeout((function(){e.hide()}),500)},onCancel:function(){console.log("User cancelled the loader.")}},mounted:function(){this.isLoading(),this.getCart()}},C=l("6b0d"),M=l.n(C);const x=M()(D,[["render",v]]);t["default"]=x},d9c7:function(e,t,l){"use strict";l("b0c0");var c=l("7a23"),n={class:"modal",tabindex:"-1",ref:"modal"},a={class:"modal-dialog"},o={class:"modal-content"},r=Object(c["createElementVNode"])("div",{class:"modal-header"},[Object(c["createElementVNode"])("h5",{class:"modal-title"},"訂購人資訊"),Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-body p-4"},i={class:"mb-3"},s=Object(c["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),m={class:"mb-3"},u=Object(c["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),b={class:"mb-3"},p=Object(c["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1),O={class:"mb-4"},j=Object(c["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),f={class:"text-end"};function h(e,t,l,h,g,E){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",o,[r,Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("form",null,[Object(c["createElementVNode"])("div",i,[s,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.userData.user.name=e}),id:"name",name:"姓名",type:"text",class:"form-control",placeholder:"請輸入姓名",rules:"required"},null,512),[[c["vModelText"],g.userData.user.name]])]),Object(c["createElementVNode"])("div",m,[u,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.userData.user.tel=e}),id:"tel",name:"電話",type:"tel",class:"form-control",placeholder:"請輸入電話"},null,512),[[c["vModelText"],g.userData.user.tel]])]),Object(c["createElementVNode"])("div",b,[p,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.userData.user.address=e}),id:"address",name:"地址",type:"text",class:"form-control",placeholder:"請輸入地址",rules:"required"},null,512),[[c["vModelText"],g.userData.user.address]])]),Object(c["createElementVNode"])("div",O,[j,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return g.userData.message=e}),name:"",id:"message",class:"form-control",cols:"30",rows:"10"},"\n              ",512),[[c["vModelText"],g.userData.message]])]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("button",{onClick:t[4]||(t[4]=Object(c["withModifiers"])((function(){return E.mittTemp&&E.mittTemp.apply(E,arguments)}),["prevent"])),class:"btn btn-danger"},"送出訂單")])])])])])],512)}var g=l("7c2b"),E=l.n(g),V=l("1344"),N=Object(V["a"])(),v={name:"CheckoutModal",data:function(){return{modal:"",userData:{user:{name:"",email:"",tel:"",address:""},message:""},temp:"temp"}},methods:{emitModal:function(){this.$emit("emit-modal",this.modal)},mittTemp:function(){console.log("emit"),N.emit("mitt-temp",this.temp)}},mounted:function(){this.modal=new E.a(this.$refs.modal),this.emitModal(),console.log(N)}},y=l("6b0d"),k=l.n(y);const w=k()(v,[["render",h]]);t["a"]=w}}]);
//# sourceMappingURL=chunk-ffc786aa.33b82ac7.js.map